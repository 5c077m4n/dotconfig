#!/usr/bin/env zsh

alias v='nvim'
alias vim='nvim'

alias tree='exa --tree'

update-hosts() {
	local current_hosts="$(cat /etc/hosts)"
	local anti_malware_hosts="$(curl https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts)"
	local fakenews_gambling_hosts="$(curl https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/fakenews-gambling/hosts)"

	echo "${current_hosts} \n${anti_malware_hosts} \n${fakenews_gambling_hosts}" | sed 's/^\s+\|\s+$//g' | sed '/^\s*#\|^$/d' | sort --unique | sudo tee /etc/hosts
}

# Kubectl
alias kc='kubectx'
alias kcc='kubectx --current'

# Git
alias gsync='git fetch --all --prune && git pull origin "$(git branch --show-current) --all --rebase --autostash'
alias gupa='git pull --rebase --autostash origin "$(git branch --show-current)"'
alias ggpf='git push --force origin "$(git branch --show-current)"'
alias gprom='git pull --rebase --autostash origin master'
alias grbim='git rebase --interactive origin/master'
## Worktree
gwta() {
	cd "$(git rev-parse --show-toplevel)"
	git worktree add "$1"
	cd "$1"
}
alias gwtr='git worktree remove'
alias gwtl='git worktree list'
alias gwtp='git worktree prune'

# Rust
alias c='cargo'
alias ct='cargo test'
alias ctw='cargo test --workspace'
alias cc='cargo clean'
alias cr='cargo run'
alias log_cr='RUST_LOG=debug cargo run'
alias cb='cargo build'
alias cu='cargo update'

# Terraform
alias t='terraform'
alias ta='terraform apply'
